From 2b13bc2f10a2973ea3850a9f9bd99fb4095e79dc Mon Sep 17 00:00:00 2001
From: Jean-Christophe Morin <jcmorin@anaconda.com>
Date: Fri, 2 Jun 2023 17:11:52 +0000
Subject: [PATCH] Demote compilation errors to warnings

---
 cmake/compiler_settings.cmake | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

diff --git a/cmake/compiler_settings.cmake b/cmake/compiler_settings.cmake
index c92652c..88c0fd5 100644
--- a/cmake/compiler_settings.cmake
+++ b/cmake/compiler_settings.cmake
@@ -53,7 +53,7 @@ macro(set_gcc_flags)
 endmacro()
 
 macro(set_gcc_warnings)
-    list(APPEND AWS_COMPILER_WARNINGS "-Wall" "-Werror" "-pedantic" "-Wextra")
+    list(APPEND AWS_COMPILER_WARNINGS "-Wall" "-pedantic" "-Wextra")
     if(COMPILER_CLANG)
         if(PLATFORM_ANDROID)
             # when using clang with libc and API lower than 21 we need to include Android support headers and ignore the gnu-include-next warning.
@@ -149,11 +149,7 @@ macro(set_msvc_warnings)
             set(CMAKE_SHARED_LINKER_FLAGS_DEBUGOPT "")
         endif()
 
-        # warnings as errors, max warning level (4)
-        if(NOT CMAKE_CXX_FLAGS MATCHES "/WX")
-            set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /WX")
-        endif()
-
+        # max warning level (4)
         # taken from http://stackoverflow.com/questions/2368811/how-to-set-warning-level-in-cmake
         if(CMAKE_CXX_FLAGS MATCHES "/W[0-4]")
             string(REGEX REPLACE "/W[0-4]" "/W4" CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS}")
-- 
1.8.3.1
